<!-- Navbar principal -->
<nav class="navbar">
  <div class="contenedor-nav">
    <h1 class="titulo-principal">Juegos JMRM</h1>
    
    <div class="menu-botones">
      <button (click)="cambiarPagina('inicio')" 
              [class.pagina-actual]="paginaActual === 'inicio'">
        Inicio
      </button>
      <button (click)="cambiarPagina('productos')"
              [class.pagina-actual]="paginaActual === 'productos'">
        Productos
      </button>
      <button (click)="cambiarPagina('contacto')"
              [class.pagina-actual]="paginaActual === 'contacto'">
        Contacto
      </button>
      <button (click)="cambiarPagina('carrito')" class="boton-carrito">
          Carrito
        <span *ngIf="carrito.length > 0" class="badge-carrito">
          {{carrito.length}}
        </span>
      </button>
    </div>
  </div>
</nav>
 
<!-- Pagina de inicio -->
<div *ngIf="paginaActual === 'inicio'" class="pagina pagina-inicio">
  <div class="contenedor">
    <div class="banner-principal">
      <h2>Bienvenido a Juegos JMRM</h2>
      <p>Los juegos mas pegados</p>
      <button (click)="cambiarPagina('productos')" class="btn-principal">
        Ver Catálogo Completo
      </button>
    </div>

    <h3 class="titulo-seccion">Juegos Destacados</h3>
    <div class="grid-juegos">
      <div *ngFor="let juego of [juegos[0], juegos[2], juegos[4]]" class="tarjeta-juego">
        <div class="imagen-container">
          <img [src]="juego.img" [alt]="juego.nombre">
        </div>
        <div class="info-tarjeta">
          <h4>{{juego.nombre}}</h4>
          <p class="precio">${{juego.precio.toLocaleString()}}</p>
          <button (click)="agregarAlCarrito(juego)" class="btn-agregar">
            Agregar al Carrito
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Pagina de productos -->
<div *ngIf="paginaActual === 'productos'" class="pagina pagina-productos">
  <div class="contenedor">
    <h2>Catálogo de Juegos</h2>
    
    <!-- Filtros por consola -->
    <div class="contenedor-filtros">
      <button *ngFor="let filtro of ['Todas', 'PlayStation', 'Xbox', 'Nintendo', 'PC']"
              (click)="filtroActual = filtro"
              [class.activo]="filtroActual === filtro"
              class="btn-filtro">
        {{filtro}}
      </button>
    </div>

    <!-- Lista de juegos -->
    <div class="lista-productos">
      <div *ngFor="let juego of filtrarJuegos()" class="producto-item">
        <div class="producto-imagen">
          <img [src]="juego.img" [alt]="juego.nombre">
        </div>
        <div class="producto-info">
          <span class="etiqueta-consola">{{juego.consola}}</span>
          <h4>{{juego.nombre}}</h4>
          <p class="precio-producto">${{juego.precio.toLocaleString()}}</p>
          <button (click)="agregarAlCarrito(juego)" class="btn-comprar">
            Agregar al Carrito
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Pagina del carrito -->
<div *ngIf="paginaActual === 'carrito'" class="pagina pagina-carrito">
  <div class="contenedor">
    <h2>Mi Carrito de Compras</h2>

    <!-- Si el carrito esta vacio -->
    <div *ngIf="carrito.length === 0" class="carrito-vacio">
      <p>Tu carrito está vacío</p>
      <p>¡Agrega algunos juegos!</p>
      <button (click)="cambiarPagina('productos')" class="btn-principal">
        Ir a Productos
      </button>
    </div>

    <!-- Si hay productos -->
    <div *ngIf="carrito.length > 0">
      <div *ngFor="let item of carrito; let i = index" class="item-carrito">
        <img [src]="item.img" [alt]="item.nombre" class="img-item">
        <div class="detalles-item">
          <h4>{{item.nombre}}</h4>
          <p class="consola-item">{{item.consola}}</p>
        </div>
        <p class="precio-item">${{item.precio.toLocaleString()}}</p>
        <button (click)="quitarDelCarrito(i)" class="btn-eliminar">
          Eliminar
        </button>
      </div>

      <!-- Total y boton de compra -->
      <div class="resumen-compra">
        <p class="texto-total">Total: <strong>${{calcularTotal().toLocaleString()}}</strong></p>
        <button (click)="finalizarCompra()" class="btn-finalizar">
          Finalizar Compra
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Pagina de contacto -->
<div *ngIf="paginaActual === 'contacto'" class="pagina pagina-contacto">
  <div class="contenedor">
    <h2>Contáctanos</h2>
    
    <div class="contenedor-contacto">
      <div class="info-contacto">
        <h3>Nuestra Información</h3>
        <p><strong>Dirección:</strong></p>
        <p>Cr 12A Nr 18A 04, Los Sauces</p>
        <br>
        <p><strong>Email:</strong></p>
        <p>jomirimo09@hotmail.com</p>
        <br>
        <p><strong>Teléfono:</strong></p>
        <p>+57 314 3650691</p>
        <br>
        <p><strong>Horario:</strong></p>
        <p>Lunes a Sábado: 9AM - 8PM</p>
      </div>

      <div class="formulario-contacto">
        <h3>Envíanos un mensaje</h3>
        <input type="text" placeholder="Tu nombre" class="input-form">
        <input type="email" placeholder="Tu email" class="input-form">  
        <textarea placeholder="Escribe tu mensaje aquí..." rows="5" class="input-form"></textarea>
        <button (click)="enviarContacto()" class="btn-principal">
          Enviar Mensaje
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="footer">
  <div class="contenedor">
    <div class="footer-grid">
      <div class="footer-col">
        <h4>Juegos JMRM</h4>
        <p>Tu tienda de confianza para videojuegos</p>
      </div>
      <div class="footer-col">
        <h4>Navegación</h4>
        <p (click)="cambiarPagina('inicio')" class="link-footer">Inicio</p>
        <p (click)="cambiarPagina('productos')" class="link-footer">Productos</p>
        <p (click)="cambiarPagina('contacto')" class="link-footer">Contacto</p>
      </div>
      <div class="footer-col">
        <h4>Plataformas</h4>
        <p>PlayStation 5</p>
        <p>Xbox Series X/S</p> 
        <p>Nintendo Switch</p>
        <p>PC Gaming</p>
      </div>
      <div class="footer-col">
        <h4>Métodos de Pago</h4>
        <p>Tarjetas de crédito</p>
        <p>Tarjetas débito</p>
        <p>Transferencias bancarias</p>
      </div>
    </div>
  </div>
</footer>